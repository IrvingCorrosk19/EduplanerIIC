üí∞ M√ìDULO 3: PAGOS (Actualizado con verificaci√≥n de pagos manuales)
üéØ Objetivo
Gestionar los pagos de matr√≠cula y otros conceptos acad√©micos, permitiendo que los acudientes paguen desde el portal y que los pagos manuales (transferencias, dep√≥sitos, Yappy) se verifiquen antes de confirmar. Todos los pagos quedan vinculados al estudiante y generan recibos electr√≥nicos.
üë• Roles con acceso
Administrador:
Configura conceptos de pago y montos.
Supervisa pagos pendientes y confirmados.
Bloquea o habilita estados de matr√≠cula seg√∫n pagos.
Encargado de Contabilidad:
Valida los pagos realizados por m√©todos manuales (transferencias, dep√≥sitos, Yappy).
Cambia el estado de pago a confirmado despu√©s de verificar en el banco.
Acudiente / Padre:
Realiza pagos desde el portal:
Tarjeta de cr√©dito/d√©bito: pago autom√°tico y confirmado al instante.
Transferencia, Yappy o dep√≥sito: debe adjuntar imagen o comprobante del pago.
Recibe notificaci√≥n de que el pago est√° pendiente de verificaci√≥n.
Visualiza pagos confirmados y pendientes, con recibos electr√≥nicos descargables.
Docente / Coordinador Acad√©mico:
Consulta estado de pagos de estudiantes de su grupo.

‚öôÔ∏è Flujo principal
1. Pago desde portal
Acudiente selecciona concepto y estudiante.
M√©todos de pago:
‚ö†Ô∏è Tarjeta de cr√©dito/d√©bito ‚Üí pago SIMULADO (confirmaci√≥n autom√°tica sin procesamiento real).
   NOTA: En producci√≥n se requiere integrar con pasarela de pagos real (Stripe, PayPal, Yappy, etc.).
Transferencia, dep√≥sito o Yappy ‚Üí solicita adjuntar imagen del comprobante.
Pago queda en estado: Pendiente de verificaci√≥n.
Notificaci√≥n autom√°tica al encargado de contabilidad sobre el pago pendiente.
2. Verificaci√≥n de pagos manuales
El encargado de contabilidad revisa el comprobante y valida el pago en el banco.
Una vez confirmado, cambia el estado del pago a Confirmado en el portal.
El sistema actualiza autom√°ticamente el estado de matr√≠cula del estudiante si corresponde.
3. Consulta y seguimiento
Acudientes: visualizaci√≥n de pagos pendientes y confirmados, con recibos electr√≥nicos descargables.
Administraci√≥n / Contabilidad: reportes por concepto, estudiante o periodo.
Alertas autom√°ticas para pagos pendientes de verificaci√≥n o matr√≠cula bloqueada.

üîÑ Validaciones y reglas
No se puede matricular un estudiante si el pago correspondiente no est√° confirmado.
Cada pago debe registrar un n√∫mero de recibo √∫nico (electr√≥nico o f√≠sico).
Validaci√≥n de montos: no se aceptan pagos menores al definido por concepto.
Control de duplicados de recibo.
Registro hist√≥rico de pagos y auditor√≠a de cambios.

üìä Visualizaci√≥n y reportes
Reportes por estudiante, concepto o periodo: montos, fechas y recibos.
Exportaci√≥n PDF o Excel.
Filtrado por: estudiante, concepto, periodo, estado de pago.
Acudientes: vista clara de pagos pendientes y confirmados, con opci√≥n de descargar recibos electr√≥nicos.

üíæ Requerimientos t√©cnicos
Tabla pagos con campos:
id_pago, id_estudiante, concepto, monto, fecha_pago, numero_recibo, estado_pago, registrado_por, metodo_pago, imagen_comprobante
Tabla conceptos_pago con:
id_concepto, nombre_concepto, monto, periodicidad, activo
Integraci√≥n con M√≥dulo de Matr√≠cula para habilitar estados autom√°ticamente.
Control de acceso por rol (Administrador, Contabilidad, Acudiente, Docente).
Notificaciones autom√°ticas cuando un pago es registrado o confirmado.

